local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Ori's Forge Ex3",
   Icon = 0, 
   LoadingTitle = "3xe",
   LoadingSubtitle = "By Ori",
   ShowText = ":3",  
   Theme = "Amethyst", 
   ToggleUIKeybind = "X", 

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, 

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil, 
      FileName = "Ex3"
   },

   Discord = {
      Enabled = false, 
      Invite = "noinvitelink", 
      RememberJoins = true 
   },

   KeySystem = false, 
   KeySettings = {
      Title = "Untitled",
      Subtitle = "Key System",
      Note = "No method of obtaining the key is provided", 
      FileName = "Key", 
      SaveKey = true, A
      GrabKeyFromSite = false,
      Key = {"Hello"} 
   }
})

local Tab = Window:CreateTab("Forge 3xe", 4483362458) -- Title, Image

local Section = Tab:CreateSection("Section Example")

local Button = Tab:CreateButton({
   Name = "Sell Ores (MUST INTERACT WITH GREEDY CEY FIRST)",
   Callback = function()
local args = {
	"SellConfirm",
	{
		Basket = {
            --island 1 Common
            Stone = 1, 
             Copper = 1, 
             Iron = 1, 
             Cardboardite = 1, 
             --island 1 Uncommon
             Tin = 1, 
             Silver = 1, 
             Bananite = 1, 
             Gold = 1, 
             --island 1 Rare
             Mushroomite =1, 
             Platinum = 1, 
             --island 1 Epic
             Aite = 1, 
             Poopite = 1 
             


             --island 2 uncommon
             Cobalt = 1, 
             Titanium = 1, 
             --island 2 Rare
             Quartz = 1, 
             Amethyst = 1, 
             Topaz = 1, 
             Diamond = 1, 
             Sapphire = 1, 
             --island 2 Epic
             Cuprite = 1, 
             Obsidian = 0,
             Emerald = 1,
             Ruby = 1,
             Rivalite = 0,
             
		}
	}
}
game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))


local args = {
	"SellConfirm",
	{
		Basket = {
            --island 1 Common
            ["Sand Stone"] = 1,
            --island 2 Uncommon
            ["Lapis Lazuli"] = 1,
            --island 2 Rare
            ["Volcanic Rock"] = 1, 
		}
	}
}
game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
   end,
})












local ACTIVATION_RATE = 0.1
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ToolActivatedRF = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated")

local isMineToggled = false
local mineArgs = { "Pickaxe" }

local function startAutoMineLoop()
    spawn(function()
        while isMineToggled do
            local success, result = pcall(ToolActivatedRF.InvokeServer, ToolActivatedRF, unpack(mineArgs))
            if not success then
                warn("AutoMine InvokeServer failed:", result)
            end
            wait(ACTIVATION_RATE)
        end
    end)
end


local function toggleAutoMine(newValue)
    isMineToggled = newValue
    if isMineToggled then
        startAutoMineLoop()
    end
end


local ToggleMine = Tab:CreateToggle({
    Name = "Auto Mine (Pickaxe)",
    CurrentValue = false,
    Flag = "Toggle2", 
    Callback = function(Value)
        toggleAutoMine(Value) 
    end,
})

local KeybindMine = Tab:CreateKeybind({
    Name = "Auto Mine Keybind",
    CurrentKeybind = "C",
    HoldToInteract = false,
    Flag = "Toggle2", 
    Callback = function(KeybindHeld)
        local newValue = not isMineToggled 
        toggleAutoMine(newValue)
    end,
})


local isSwingToggled = false
local swingArgs = { "Weapon" } 

local function startAutoSwingLoop()
    spawn(function()
        while isSwingToggled do
            local success, result = pcall(ToolActivatedRF.InvokeServer, ToolActivatedRF, unpack(swingArgs))
            if not success then
                warn("AutoSwing InvokeServer failed:", result)
            end
            wait(ACTIVATION_RATE)
        end
    end)
end


local function toggleAutoSwing(newValue)
    isSwingToggled = newValue
    if isSwingToggled then
        startAutoSwingLoop()
    end
end


local ToggleSwing = Tab:CreateToggle({
    Name = "Auto Swing (Weapon)",
    CurrentValue = false,
    Flag = "Toggle3",
    Callback = function(Value)
        toggleAutoSwing(Value) 
    end,
})

local KeybindSwing = Tab:CreateKeybind({
    Name = "Auto Swing Keybind",
    CurrentKeybind = "V",
    HoldToInteract = false,
    Flag = "Toggle3", 
    Callback = function(KeybindHeld)
        local newValue = not isSwingToggled 
        toggleAutoSwing(newValue)
    end,
})












local RunCommandRF = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand")


local isSellToggled = false
local SELL_RATE = 5 

local sellPayloads = {
    -- Payload 1: Common Ores
    {
        "SellConfirm",
        { Basket = { Tin = 1, Mushroomite =1, Gold = 1, Cobalt = 1, Titanium = 1, Quartz = 1, Amethyst = 1, Topaz = 1, Diamond = 1, Sapphire = 1, Cuprite = 1, Platinum = 1, Silver = 1, Stone = 1, Copper = 1, Iron = 1, Tin = 1, Bananite = 1, Cardboardite = 1, Aite = 1, Poopite = 1  } }
    },
    -- Payload 2: Special Ores
    {
        "SellConfirm",
        { Basket = { ["Volcanic Rock"] = 1, ["Lapis Lazuli"] = 1, ["Sand Stone"] = 1, } }
    }
}

local function startAutoSellLoop()
    spawn(function()
        while isSellToggled do
            for _, args in ipairs(sellPayloads) do
                local success, result = pcall(RunCommandRF.InvokeServer, RunCommandRF, unpack(args))
                if not success then
                    warn("AutoSell InvokeServer failed:", result)
                end
            end
            
            wait(SELL_RATE)
        end
    end)
end


local function toggleAutoSell(newValue)
    isSellToggled = newValue
    if isSellToggled then
        startAutoSellLoop()
    end
end



local ToggleSell = Tab:CreateToggle({
    Name = "Auto Sell",
    CurrentValue = false,
    Flag = "Toggle4", 
    Callback = function(Value)
        toggleAutoSell(Value) 
    end,
})

local KeybindSell = Tab:CreateKeybind({
    Name = "Auto Sell Keybind",
    CurrentKeybind = "Z", 
    HoldToInteract = false,
    Flag = "Toggle4", 
    Callback = function(KeybindHeld)
        local newValue = not isSellToggled 
        toggleAutoSell(newValue)
    end,
})






local Button = Tab:CreateButton({
   Name = "Open Forge",
   Callback = function()
local args = {
	workspace:WaitForChild("Proximity"):WaitForChild("Forge")
}
game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Forge"):InvokeServer(unpack(args))
end,}
)
